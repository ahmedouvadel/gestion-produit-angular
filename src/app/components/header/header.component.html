<header class="w-full mt-10 flex flex-row items-start justify-between max-w-full text-left py-3 px-5">
  <!-- üîç Barre de recherche -->
  <div></div>

  <!-- ‚öôÔ∏è Ic√¥ne settings -->
<div></div>
  <!-- üë§ Avatar + Nom -->
  <div class="flex items-center">
    <div class="flex flex-col items-center justify-center cursor-pointer relative">
      <div class="flex items-center gap-2" (mouseenter)="showDropdown()" (mouseleave)="scheduleHideDropdown()">
        <div class="flex items-center pt-3 gap-1">
          <span class="text-[#464255] font-light">Bonjour,</span>
          <span class="text-emerald-950 font-medium">{{ username }}</span>
        </div>

        <div class="avatar avatar-online">
          <div class="w-14 rounded-full shadow-xl">
            <img [src]="userImage" alt="Avatar Admin" />
          </div>
        </div>
      </div>

      <!-- üîΩ Dropdown Logout -->
      @if(dropdownVisible) {
        <div class="absolute top-[4rem] right-0 w-48 bg-white rounded-lg shadow-lg cursor-pointer"
             (mouseenter)="showDropdown()" (mouseleave)="scheduleHideDropdown()">
          <a class="block px-4 py-2 text-gray-800 hover:bg-gray-200" (click)="openLogoutDialog()">
            <i class="bi bi-box-arrow-right mr-2"></i> Logout
          </a>
        </div>
      }
    </div>
  </div>

  <!-- üí¨ Popup confirmation logout -->
  <ng-template #logoutDialog>
    <div class="bg-white rounded-lg shadow-lg w-80">
      <div class="flex flex-col items-center text-center p-4">
        <img src="/assets/logout.svg" class="w-24 mb-4" alt="Logout" />
        <p class="text-base">√ätes-vous s√ªr de vouloir <strong class="text-red-600">vous d√©connecter</strong> ?</p>
      </div>
      <div class="flex justify-center gap-4 p-4">
        <button class="btn btn-primary" (click)="confirmLogout()">Oui</button>
        <button class="btn btn-outline" (click)="dialogRef.close()">Non</button>
      </div>
    </div>
  </ng-template>
</header>
